<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sisdop</title>

  <link rel="icon" href="ícone dourada.png">

  <!-- CSS EXTERNO -->
  <link rel="stylesheet" href="main.css">

  <!-- GOOGLE LOGIN -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>

<body>

  <!-- ANIMAÇÃO DE CAPA -->
  <div class="splash" id="splash">
    <div class="circle"></div>
    <img src="Logo Dourada.png" alt="Logo SISDOP" class="logo">
  </div>

  <!-- LOGIN -->
  <section id="login" class="active">
    <div class="logo-container">
      <img src="Logo Dourada.png" alt="Logo SISDOP">
    </div>

    <div class="login-container" id="loginBox">
      <h1>Seja bem-vindo</h1>
      <p class="subtitle">Efetue seu login</p>

      <div class="input-field">
        <label for="usuario">Usuário:</label>
        <input type="text" id="usuario" placeholder="Digite seu usuário">
      </div>

      <div class="input-field">
        <label for="senha">Senha:</label>
        <input type="password" id="senha" placeholder="Digite sua senha">
      </div>

      <button class="btn-login btn-primary" onclick="showSection('menu')">Entrar</button>

      <div class="divider">Ou</div>

      <!-- GOOGLE LOGIN COM SEU NOVO CLIENT ID -->
      <div id="g_id_onload"
        data-client_id="419883131167-ffkeqm4hbc5a7rlhjb5e4afsqu1ekcdg.apps.googleusercontent.com"
        data-callback="handleCredentialResponse">
      </div>

      <div class="g_id_signin"
        data-type="standard"
        data-size="large"
        data-theme="outline"
        data-text="continue_with"
        data-shape="pill"
        data-logo_alignment="left">
      </div>

      <p class="register-link">Ainda não se cadastrou?
        <a href="#" onclick="showSection('select')">Cadastre-se agora</a>
      </p>
    </div>
  </section>

  <!-- SELEÇÃO -->
  <section id="select">
    <img src="Logo Dourada.png" alt="Logo SISDOP" class="logo-main">
    <button class="btn-voltar btn-secondary" onclick="showSection('login')">Voltar</button>

    <div class="select-container">
      <h2>Selecione o tipo de cadastro:</h2>

      <div class="options">
        <div class="option" onclick="showSection('user')">
          <div class="icon">
            <svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="4"/><path d="M4 20c0-4 4-6 8-6s8 2 8 6"/></svg>
          </div>
          Usuário
        </div>

        <div class="option" onclick="showSection('company')">
          <div class="icon">
            <svg viewBox="0 0 24 24"><rect x="3" y="7" width="18" height="13" rx="2" ry="2"/><path d="M8 7V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
          </div>
          Empresa
        </div>
      </div>
    </div>
  </section>

  <!-- CADASTRO USUÁRIO -->
  <section id="user">
    <img src="Logo Dourada.png" class="logo-main">
    <button class="btn-voltar btn-secondary" onclick="showSection('select')">Voltar</button>

    <div class="cadastro-container">
      <div class="cadastro-imagem" style="background-image: url('https://via.placeholder.com/600x800/000000/FFFFFF?text=Voluntariado');"></div>
      <div class="cadastro-form">
        <h2 class="titulo-cadastro">Cadastro de Usuário:</h2>
        <form onsubmit="event.preventDefault(); showSection('login')">
          <div><label for="user-nome">Nome:</label><input type="text" id="user-nome" required></div>
          <div><label for="user-sobrenome">Sobrenome:</label><input type="text" id="user-sobrenome" required></div>
          <div><label for="user-email">E-mail:</label><input type="email" id="user-email" required></div>
          <div><label for="user-celular">Número de celular:</label><input type="tel" id="user-celular" required></div>
          <div class="password-field-group"><label>Senha:</label>
            <div class="password-wrapper">
              <input type="password" id="user-senha" required>
              <span class="toggle-password" onclick="togglePasswordVisibility(this)">
                <svg class="eye-open" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                <svg class="eye-closed" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>
              </span>
            </div>
          </div>
          <div><label for="user-tipo">Tipo de Usuário:</label><input type="text" id="user-tipo" required></div>
          <div class="password-field-group"><label>Confirme sua senha:</label>
            <div class="password-wrapper">
              <input type="password" id="user-confirma-senha" required>
              <span class="toggle-password" onclick="togglePasswordVisibility(this)">
                <svg class="eye-open" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                <svg class="eye-closed" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>
              </span>
            </div>
          </div>
          <div><label for="user-cpf">CPF:</label><input type="text" id="user-cpf" required></div>
          <button type="submit" class="btn-primary">Cadastrar</button>
        </form>
      </div>
    </div>
  </section>

  <!-- CADASTRO EMPRESA -->
  <section id="company">
    <img src="Logo Dourada.png" class="logo-main">
    <button class="btn-voltar btn-secondary" onclick="showSection('select')">Voltar</button>

    <div class="cadastro-container">
      <div class="cadastro-imagem" style="background-image: url('https://via.placeholder.com/600x800/333333/FFFFFF?text=Comunidade');"></div>
      <div class="cadastro-form">
        <h2 class="titulo-cadastro">Cadastro de Empresa:</h2>
        <form id="formCadastro">
          <div><label for="company-nome">Nome da ONG:</label><input type="text" id="company-nome" name="nome" required></div>
          <div><label for="company-email">E-mail:</label><input type="email" id="company-email" name="email" required></div>
          <div><label for="company-cnpj">CNPJ:</label><input type="text" id="company-cnpj" name="cnpj" required></div>
          <div><label for="company-celular">Número de celular:</label><input type="tel" id="company-celular" name="tel" required></div>
          <div class="password-field-group"><label>Senha:</label>
            <div class="password-wrapper">
              <input type="password" id="company-senha" name="senha" required>
              <span class="toggle-password" onclick="togglePasswordVisibility(this)">
                <svg class="eye-open" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                <svg class="eye-closed" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>
              </span>
            </div>
          </div>
          <div class="password-field-group"><label>Confirme sua senha:</label>
            <div class="password-wrapper">
              <input type="password" id="company-confirma-senha" required>
              <span class="toggle-password" onclick="togglePasswordVisibility(this)">
                <svg class="eye-open" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                <svg class="eye-closed" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>
              </span>
            </div>
          </div>
          <div style="grid-column: span 2;"><label for="company-nome">Area de atuação:</label><input type="text" id="area" name="area" required></div>
          <button class="btn-primary">Cadastrar</button>
        </form>
      </div>
    </div>
  </section>

  <!-- MENU -->
  <section id="menu">
    <div class="menu-container">
      <nav class="sidebar" id="sidebar">
        <a onclick="showMenuContent('menu-home')" class="active">Menu</a>
        <a onclick="showMenuContent('ongs')">ONGs</a>
        <a onclick="showMenuContent('usuarios')">Usuários</a>
        <a onclick="showMenuContent('consulta')">Consulta</a>
        <a onclick="showMenuContent('acoes')">Ações</a>
        <a onclick="showSection('login')">Sair</a>
      </nav>

      <main class="main">
        <!-- A imagem da logo agora é um fundo para a área principal -->
        <img src="Logo Dourada.png" class="main-bg-logo">

        <!-- Conteúdo Home do Menu -->
        <div id="menu-home" class="menu-content active"></div>

        <!-- Conteúdo de Gerenciamento de ONGs -->
        <div id="ongs" class="menu-content">
          <h2>Gerenciar ONGs</h2>
          <div class="ongs-controls">
            <button class="btn-primary" onclick="showAddOngForm()">Adicionar Nova ONG</button>
          </div>

          <div id="add-edit-ong-form" class="form-modal" style="display: none;">
            <h3><span id="ong-form-title">Adicionar</span> ONG</h3>
            <form onsubmit="event.preventDefault(); saveOng();">
              <div><label for="ong-nome">Nome da ONG:</label><input type="text" id="ong-nome" required></div>
              <div><label for="ong-email">E-mail:</label><input type="email" id="ong-email" required></div>
              <div><label for="ong-cnpj">CNPJ:</label><input type="text" id="ong-cnpj" required></div>
              <div><label for="ong-telefone">Telefone:</label><input type="tel" id="ong-telefone"></div>
              <div><label for="ong-endereco">Endereço:</label><input type="text" id="ong-endereco"></div>
              <div><label for="ong-area">Área de Atuação:</label><input type="text" id="ong-area"></div>
              <button type="submit" class="btn-primary">Salvar ONG</button>
              <button type="button" class="btn-secondary" onclick="hideOngForm()">Cancelar</button>
            </form>
          </div>

          <div class="dashboard" id="divCardsOngs"> 
            
          </div>
        </div>

        <!-- Conteúdo de Gerenciamento de Usuários -->
        <div id="usuarios" class="menu-content">
          <h2>Gerenciar Usuários</h2>
          <div class="usuarios-controls">
            <button class="btn-primary" onclick="showAddUserForm()">Adicionar Novo Usuário</button>
          </div>

          <div id="add-edit-usuario-form" class="form-modal" style="display: none;">
            <h3><span id="user-form-title">Adicionar</span> Usuário</h3>
            <form onsubmit="event.preventDefault(); saveUser();">
              <div><label for="user-form-nome">Nome:</label><input type="text" id="user-form-nome" required></div>
              <div><label for="user-form-email">E-mail:</label><input type="email" id="user-form-email" required></div>
              <div><label for="user-form-tipo">Tipo:</label><input type="text" id="user-form-tipo" required></div>
              <div><label for="user-form-cpf">CPF:</label><input type="text" id="user-form-cpf"></div>
              <button type="submit" class="btn-primary">Salvar Usuário</button>
              <button type="button" class="btn-secondary" onclick="hideUserForm()">Cancelar</button>
            </form>
          </div>

          <div class="dashboard">
            <div class="card">
              <h3>João da Silva</h3>
              <p>Email: joao.silva@email.com</p>
              <p>Tipo: Doador</p>
              <div class="card-actions">
                <button class="btn-edit btn-secondary" onclick="editUser('João da Silva')">Editar</button>
                <button class="btn-delete btn-danger">Excluir</button>
              </div>
            </div>
            <div class="card">
              <h3>Maria Souza</h3>
              <p>Email: maria.souza@email.com</p>
              <p>Tipo: Voluntário</p>
              <div class="card-actions">
                <button class="btn-edit btn-secondary" onclick="editUser('Maria Souza')">Editar</button>
                <button class="btn-delete btn-danger">Excluir</button>
              </div>
            </div>
            <div class="card">
              <h3>Carlos Oliveira</h3>
              <p>Email: carlos.o@email.com</p>
              <p>Tipo: Administrador</p>
              <div class="card-actions">
                <button class="btn-edit btn-secondary" onclick="editUser('Carlos Oliveira')">Editar</button>
                <button class="btn-delete btn-danger">Excluir</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Conteúdo de Consulta -->
        <div id="consulta" class="menu-content">
          <h2>Consulta Avançada</h2>
          <form class="consulta-form" onsubmit="event.preventDefault(); performSearch();">
            <input type="text" id="search-query" placeholder="Buscar por nome, email, CNPJ, CPF...">
            <select id="filter-type">
              <option value="">Todos os Tipos</option>
              <option value="ong">ONG</option>
              <option value="usuario">Usuário</option>
              <option value="acao">Ação</option>
            </select>
            <select id="filter-status">
              <option value="">Todos os Status</option>
              <option value="ativo">Ativo</option>
              <option value="inativo">Inativo</option>
              <option value="concluido">Concluído</option>
            </select>
            <button type="submit" class="btn-primary">Buscar</button>
            <button type="button" class="btn-secondary" onclick="clearFilters()">Limpar Filtros</button>
          </form>
          <div id="consulta-results" class="dashboard">
            <!-- Resultados da consulta serão exibidos aqui -->
            <div class="card">
              <h3>Resultado Exemplo 1</h3>
              <p>Tipo: ONG</p>
              <p>Descrição: ONG Amigos do Bem - Campanha do Agasalho</p>
            </div>
            <div class="card">
              <h3>Resultado Exemplo 2</h3>
              <p>Tipo: Usuário</p>
              <p>Descrição: João da Silva - Doador</p>
            </div>
          </div>
        </div>

        <!-- Conteúdo de Ações -->
        <div id="acoes" class="menu-content">
          <h2>Gerenciar Ações</h2>
          <div class="acoes-controls">
            <button class="btn-primary" onclick="showAddAcaoForm()">Criar Nova Ação</button>
          </div>
          <div id="add-edit-acao-form" class="form-modal" style="display: none;">
            <h3><span id="acao-form-title">Criar</span> Ação</h3>
            <form onsubmit="event.preventDefault(); saveAcao();">
              <div><label for="acao-nome">Nome da Ação:</label><input type="text" id="acao-nome" required></div>
              <div><label for="acao-ong">ONG Responsável:</label><input type="text" id="acao-ong" required></div>
              <div><label for="acao-status">Status:</label>
                <select id="acao-status">
                  <option value="ativa">Ativa</option>
                  <option value="pendente">Pendente</option>
                  <option value="concluida">Concluída</option>
                </select>
              </div>
              <div><label for="acao-data-inicio">Data Início:</label><input type="date" id="acao-data-inicio"></div>
              <div><label for="acao-data-fim">Data Fim:</label><input type="date" id="acao-data-fim"></div>
              <button type="submit" class="btn-primary">Salvar Ação</button>
              <button type="button" class="btn-secondary" onclick="hideAcaoForm()">Cancelar</button>
            </form>
          </div>
          <div class="dashboard">
            <div class="card">
              <h3>Campanha do Agasalho 2024</h3>
              <p>ONG: Amigos do Bem</p>
              <p>Status: Ativa</p>
              <div class="card-actions">
                <button class="btn-edit">Ver Detalhes</button>
                <button class="btn-edit btn-secondary" onclick="editAcao('Campanha do Agasalho 2024')">Editar</button>
                <button class="btn-delete btn-danger">Excluir</button>
              </div>
            </div>
            <div class="card">
              <h3>Arrecadação de Alimentos</h3>
              <p>ONG: Criança Feliz</p>
              <p>Status: Concluída</p>
              <div class="card-actions">
                <button class="btn-edit btn-secondary" onclick="editAcao('Arrecadação de Alimentos')">Editar</button>
                <button class="btn-delete btn-danger">Excluir</button>
              </div>
            </div>
            <div class="card">
              <h3>Mutirão de Limpeza</h3>
              <p>ONG: Mãos Solidárias</p>
              <p>Status: Pendente</p>
              <div class="card-actions">
                <button class="btn-edit btn-secondary" onclick="editAcao('Mutirão de Limpeza')">Ver Detalhes</button>
                <button class="btn-edit btn-secondary" onclick="editAcao('Mutirão de Limpeza')">Editar</button>
                <button class="btn-delete btn-danger">Excluir</button>
              </div>
            </div>
          </div>
        </div>

      </main>
    </div>
  </section>

  <!-- JAVASCRIPT EXTERNO -->
  <script src="main.js"></script>
  <script defer type="module" src="supabase.js"></script>
</body>
</html>